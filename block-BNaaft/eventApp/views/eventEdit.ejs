<%- include('partials/header') -%>
<main>
  <h1 class="main-heading">Edit Event</h1>
  <form action="/events/<%= event.id %>" method="POST" class="form">
    <div>
      <label for="title">Title: </label>
      <input
        type="text"
        name="title"
        id="title"
        placeholder="Title of event"
        value="<%= event.title %>"
      />
    </div>
    <div>
      <label for="summary">Summary: </label>
      <textarea name="summary" id="summary" placeholder="Enter event summary">
<%= event.summary %></textarea
      >
    </div>
    <div>
      <label for="host">Host: </label>
      <input
        type="text"
        name="host"
        id="host"
        placeholder="Enter event host"
        value="<%= event.host %>"
      />
    </div>
    <div>
      <label for="image">Image: </label>
      <input
        type="text"
        name="image"
        id="image"
        placeholder="Enter image URL"
        value="<%= event.image %>"
      />
    </div>
    <div>
      <label for="start_date">Start Date: </label>
      <input
        type="datetime-local"
        name="start_date"
        id="start_date"
        placeholder="Enter event start date"
        value="<%= start_date %>"
      />
    </div>
    <div>
      <label for="end_date">End Date: </label>
      <input
        type="datetime-local"
        name="end_date"
        id="end_date"
        placeholder="Enter event end date"
        value="<%= end_date %>"
      />
    </div>
    <div>
      <p>Categories:</p>

      <% categories.forEach(category => { %> <%
      if(event.event_category.includes(category.id)) { %>
      <div class="checkbox-item">
        <input
          type="checkbox"
          name="event_category"
          value="<%= category.id %>"
          id="<%= category.id %>"
          checked="true"
        />
        <label for="<%= category.id %>"><%= category.name %> </label>
      </div>
      <% } else { %>
      <div class="checkbox-item">
        <input
          type="checkbox"
          name="event_category"
          value="<%= category.id %>"
          id="<%= category.id %>"
        />
        <label for="<%= category.id %>"><%= category.name %> </label>
      </div>
      <% } %> <% }) %>
    </div>
    <div>
      <label for="location">Location: </label>
      <input
        type="text"
        name="location"
        id="location"
        placeholder="Enter event location"
        value="<%= event.location %>"
      />
    </div>

    <input type="submit" value="Edit Event" class="submit-btn" />
  </form>
</main>
<%- include('partials/footer') -%>
